// Copyright (c) 2022 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import e from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-accessor@esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-write-accessor@esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-plain-object@esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function@esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-constant-function@esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-noop@esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-assert-is-nan@esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-assert-is-positive-integer@esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-assert-is-probability@esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/random-base-mt19937@esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/array-to-json@esm/index.mjs";import f from"https://cdn.jsdelivr.net/gh/stdlib-js/string-format@esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-positive-integer@esm/index.mjs";import j from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-probability@esm/index.mjs";import c from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-floor@esm/index.mjs";import g from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-signum@esm/index.mjs";import b from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-sqrt@esm/index.mjs";import v from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-abs@esm/index.mjs";import x from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-ln@esm/index.mjs";import y from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-pow@esm/index.mjs";var w=h.isPrimitive,L=j.isPrimitive,N=f;var E=function(e,t){return w(e)?L(t)?null:new TypeError(N("invalid argument. Second argument must be a probability. Value: `%s`.",t)):new TypeError(N("invalid argument. First argument must be a positive integer. Value: `%s`.",t))};var O=y;var T=c,P=g,V=b,G=v,R=x,S=function(e){var t;switch(e){case 0:return.08106146679532726;case 1:return.04134069595540929;case 2:return.02767792568499834;case 3:return.02079067210376509;case 4:return.01664469118982119;case 5:return.01387612882307075;case 6:return.01189670994589177;case 7:return.01041126526197209;case 8:return.009255462182712733;case 9:return.00833056343336287;default:return(.08333333333333333-(.002777777777777778-.0007936507936507937/(t=O(e+=1,2)))/t)/e}};var A=function(e,t,s){var n,r=0;for(n=0;n<t;n++)e()<=s&&(r+=1);return r},J=function(e,t,s){var n,r,i,o,m,a,d,l,p,u,f,h,j,c,g,b,v,x,y,w,L,N,E,O,A,J;for(d=t-(w=T((t+1)*s))+1,l=(t+1)*(N=s/(L=1-s)),j=.0248*(c=1.15+2.53*(i=V(o=t*s*L)))-.0873+.01*s,g=t*s+.5,n=(2.83+5.1/c)*i,r=.86*(h=.92-4.2/c),v=(w+.5)*R((w+1)/(N*d)),v+=S(w)+S(t-w);;){if((A=e())<=r)return N=(O=A/h-.43)*(2*j/(.5-G(O))+c)+g,T(N);if(A>=h?O=e()-.5:(O=.5*P(O=A/h-.93)-O,A=h*e()),p=.5-G(O),!((y=T(O*(2*j/p+c)+g))<0||y>t))if(A=A*n/(j/(p*p)+c),(u=G(y-w))>15){if(m=u/o,a=(u/3+.625)*u,a+=.16666666666666666,(A=R(A))<(E=-u*u/(2*o))-(m*=(a/=o)+.5))return y;if(A<=E+m&&(J=v+(t+1)*R(d/(f=t-y+1)),J+=(y+.5)*R(f*N/(y+1)),A<=(J+=-(S(y)+S(t-y)))))return y}else{if(b=1,w<y)for(x=w;x<=y;x++)b*=l/x-N;else if(w>y)for(x=y;x<=w;x++)A*=l/x-N;if(A<=b)return y}}};var M=function e(t,s,n){return n>.5?s-e(t,s,1-n):s*n<10?A(t,s,n):J(t,s,n)},q=e,z=t,F=s,k=n,B=r,C=i,D=o,H=m,I=a,K=d,Q=l,U=p.factory,W=u,X=f,Y=E,Z=M;var $=function(){var e,t,s,n,r,i;if(0===arguments.length)t=U();else if(1===arguments.length){if(!k(e=arguments[0]))throw new TypeError(X("invalid argument. Options argument must be an object. Value: `%s`.",e));if(C(e,"prng")){if(!B(e.prng))throw new TypeError(X("invalid option. `prng` option must be a pseudorandom number generator function. Option: `%s`.",e.prng));t=e.prng}else t=U(e)}else{if(n=Y(r=arguments[0],i=arguments[1]))throw n;if(arguments.length>2){if(!k(e=arguments[2]))throw new TypeError(X("invalid argument. Options argument must be an object. Value: `%s`.",e));if(C(e,"prng")){if(!B(e.prng))throw new TypeError(X("invalid option. `prng` option must be a pseudorandom number generator function. Option: `%s`.",e.prng));t=e.prng}else t=U(e)}else t=U()}return q(s=void 0===r?h:f,"NAME","binomial"),e&&e.prng?(q(s,"seed",null),q(s,"seedLength",null),F(s,"state",D(null),H),q(s,"stateLength",null),q(s,"byteLength",null),q(s,"toJSON",D(null)),q(s,"PRNG",t)):(z(s,"seed",o),z(s,"seedLength",m),F(s,"state",l,p),z(s,"stateLength",a),z(s,"byteLength",d),q(s,"toJSON",u),q(s,"PRNG",t),t=t.normalized),s;function o(){return t.seed}function m(){return t.seedLength}function a(){return t.stateLength}function d(){return t.byteLength}function l(){return t.state}function p(e){t.state=e}function u(){var e={type:"PRNG"};return e.name=s.NAME,e.state=W(t.state),e.params=void 0===r?[]:[r,i],e}function f(){return Z(t,r,i)}function h(e,s){return I(e)||I(s)||!K(e)||!Q(s)?NaN:Z(t,e,s)}},_=$(),ee=$;e(_,"factory",ee);var te=_;export{te as default,ee as factory};
//# sourceMappingURL=index.mjs.map
