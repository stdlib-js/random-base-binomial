// Copyright (c) 2022 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import e from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-accessor@esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-write-accessor@esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-plain-object@esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function@esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-constant-function@esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-noop@esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-assert-is-nan@esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-assert-is-positive-integer@esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-assert-is-probability@esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/random-base-mt19937@esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/array-to-json@esm/index.mjs";import f from"https://cdn.jsdelivr.net/gh/stdlib-js/string-format@esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-positive-integer@esm/index.mjs";import j from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-probability@esm/index.mjs";import c from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-floor@esm/index.mjs";import g from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-signum@esm/index.mjs";import b from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-sqrt@esm/index.mjs";import v from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-abs@esm/index.mjs";import x from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-ln@esm/index.mjs";import y from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-pow@esm/index.mjs";var w=h.isPrimitive,L=j.isPrimitive;var N=function(e,t){return w(e)?L(t)?null:new TypeError("invalid argument. Second argument must be a probability. Value: `"+t+"`."):new TypeError("invalid argument. First argument must be a positive integer. Value: `"+t+"`.")};var E=y;var O=c,T=g,P=b,V=v,G=x,R=function(e){var t;switch(e){case 0:return.08106146679532726;case 1:return.04134069595540929;case 2:return.02767792568499834;case 3:return.02079067210376509;case 4:return.01664469118982119;case 5:return.01387612882307075;case 6:return.01189670994589177;case 7:return.01041126526197209;case 8:return.009255462182712733;case 9:return.00833056343336287;default:return(.08333333333333333-(.002777777777777778-.0007936507936507937/(t=E(e+=1,2)))/t)/e}};var S=function(e,t,s){var n,r=0;for(n=0;n<t;n++)e()<=s&&(r+=1);return r},A=function(e,t,s){var n,r,i,o,m,a,d,l,p,u,f,h,j,c,g,b,v,x,y,w,L,N,E,S,A,J;for(d=t-(w=O((t+1)*s))+1,l=(t+1)*(N=s/(L=1-s)),j=.0248*(c=1.15+2.53*(i=P(o=t*s*L)))-.0873+.01*s,g=t*s+.5,n=(2.83+5.1/c)*i,r=.86*(h=.92-4.2/c),v=(w+.5)*G((w+1)/(N*d)),v+=R(w)+R(t-w);;){if((A=e())<=r)return N=(S=A/h-.43)*(2*j/(.5-V(S))+c)+g,O(N);if(A>=h?S=e()-.5:(S=.5*T(S=A/h-.93)-S,A=h*e()),p=.5-V(S),!((y=O(S*(2*j/p+c)+g))<0||y>t))if(A=A*n/(j/(p*p)+c),(u=V(y-w))>15){if(m=u/o,a=(u/3+.625)*u,a+=.16666666666666666,(A=G(A))<(E=-u*u/(2*o))-(m*=(a/=o)+.5))return y;if(A<=E+m&&(J=v+(t+1)*G(d/(f=t-y+1)),J+=(y+.5)*G(f*N/(y+1)),A<=(J+=-(R(y)+R(t-y)))))return y}else{if(b=1,w<y)for(x=w;x<=y;x++)b*=l/x-N;else if(w>y)for(x=y;x<=w;x++)A*=l/x-N;if(A<=b)return y}}};var J=function e(t,s,n){return n>.5?s-e(t,s,1-n):s*n<10?S(t,s,n):A(t,s,n)},M=e,q=t,z=s,F=n,k=r,B=i,C=o,D=m,H=a,I=d,K=l,Q=p.factory,U=u,W=f,X=N,Y=J;var Z=function(){var e,t,s,n,r,i;if(0===arguments.length)t=Q();else if(1===arguments.length){if(!F(e=arguments[0]))throw new TypeError(W("invalid argument. Options argument must be an object. Value: `%s`.",e));if(B(e,"prng")){if(!k(e.prng))throw new TypeError(W("invalid option. `prng` option must be a pseudorandom number generator function. Option: `%s`.",e.prng));t=e.prng}else t=Q(e)}else{if(n=X(r=arguments[0],i=arguments[1]))throw n;if(arguments.length>2){if(!F(e=arguments[2]))throw new TypeError(W("invalid argument. Options argument must be an object. Value: `%s`.",e));if(B(e,"prng")){if(!k(e.prng))throw new TypeError(W("invalid option. `prng` option must be a pseudorandom number generator function. Option: `%s`.",e.prng));t=e.prng}else t=Q(e)}else t=Q()}return M(s=void 0===r?h:f,"NAME","binomial"),e&&e.prng?(M(s,"seed",null),M(s,"seedLength",null),z(s,"state",C(null),D),M(s,"stateLength",null),M(s,"byteLength",null),M(s,"toJSON",C(null)),M(s,"PRNG",t)):(q(s,"seed",o),q(s,"seedLength",m),z(s,"state",l,p),q(s,"stateLength",a),q(s,"byteLength",d),M(s,"toJSON",u),M(s,"PRNG",t),t=t.normalized),s;function o(){return t.seed}function m(){return t.seedLength}function a(){return t.stateLength}function d(){return t.byteLength}function l(){return t.state}function p(e){t.state=e}function u(){var e={type:"PRNG"};return e.name=s.NAME,e.state=U(t.state),e.params=void 0===r?[]:[r,i],e}function f(){return Y(t,r,i)}function h(e,s){return H(e)||H(s)||!I(e)||!K(s)?NaN:Y(t,e,s)}},$=Z(),_=Z;e($,"factory",_);var ee=$;export{ee as default,_ as factory};
//# sourceMappingURL=index.mjs.map
