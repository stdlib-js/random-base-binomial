// Copyright (c) 2024 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import e from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@v0.1.0-esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-accessor@v0.1.0-esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-write-accessor@v0.1.1-esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-plain-object@v0.1.0-esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function@v0.1.1-esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@v0.1.1-esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-constant-function@v0.1.1-esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-noop@v0.1.1-esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-assert-is-nan@v0.1.1-esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-assert-is-positive-integer@v0.1.1-esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-assert-is-probability@v0.1.1-esm/index.mjs";import{factory as p}from"https://cdn.jsdelivr.net/gh/stdlib-js/random-base-mt19937@v0.1.0-esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/array-to-json@v0.1.0-esm/index.mjs";import f from"https://cdn.jsdelivr.net/gh/stdlib-js/string-format@v0.1.1-esm/index.mjs";import{isPrimitive as h}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-positive-integer@v0.1.0-esm/index.mjs";import{isPrimitive as j}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-probability@v0.1.1-esm/index.mjs";import c from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-floor@v0.1.1-esm/index.mjs";import v from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-signum@v0.1.1-esm/index.mjs";import g from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-sqrt@v0.1.1-esm/index.mjs";import b from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-abs@v0.1.1-esm/index.mjs";import x from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-ln@v0.1.1-esm/index.mjs";import y from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-pow@v0.1.0-esm/index.mjs";function w(e,t){return h(e)?j(t)?null:new TypeError(f("invalid argument. Second argument must be a probability. Value: `%s`.",t)):new TypeError(f("invalid argument. First argument must be a positive integer. Value: `%s`.",t))}function L(e){var t;switch(e){case 0:return.08106146679532726;case 1:return.04134069595540929;case 2:return.02767792568499834;case 3:return.02079067210376509;case 4:return.01664469118982119;case 5:return.01387612882307075;case 6:return.01189670994589177;case 7:return.01041126526197209;case 8:return.009255462182712733;case 9:return.00833056343336287;default:return(.08333333333333333-(.002777777777777778-.0007936507936507937/(t=y(e+=1,2)))/t)/e}}function N(e,t,s){return s>.5?t-N(e,t,1-s):t*s<10?function(e,t,s){var n,r=0;for(n=0;n<t;n++)e()<=s&&(r+=1);return r}(e,t,s):function(e,t,s){var n,r,i,o,m,a,d,l,p,u,f,h,j,y,w,N,E,O,T,P,V,G,R,S,A,J;for(d=t-(P=c((t+1)*s))+1,l=(t+1)*(G=s/(V=1-s)),j=.0248*(y=1.15+2.53*(i=g(o=t*s*V)))-.0873+.01*s,w=t*s+.5,n=(2.83+5.1/y)*i,r=.86*(h=.92-4.2/y),E=(P+.5)*x((P+1)/(G*d)),E+=L(P)+L(t-P);;){if((A=e())<=r)return G=(S=A/h-.43)*(2*j/(.5-b(S))+y)+w,c(G);if(A>=h?S=e()-.5:(S=.5*v(S=A/h-.93)-S,A=h*e()),p=.5-b(S),!((T=c(S*(2*j/p+y)+w))<0||T>t))if(A=A*n/(j/(p*p)+y),(u=b(T-P))>15){if(m=u/o,a=(u/3+.625)*u,a+=.16666666666666666,(A=x(A))<(R=-u*u/(2*o))-(m*=.5+(a/=o)))return T;if(A<=R+m&&(J=E+(t+1)*x(d/(f=t-T+1)),J+=(T+.5)*x(f*G/(T+1)),A<=(J+=-(L(T)+L(t-T)))))return T}else{if(N=1,P<T)for(O=P;O<=T;O++)N*=l/O-G;else if(P>T)for(O=T;O<=P;O++)A*=l/O-G;if(A<=N)return T}}}(e,t,s)}function E(){var h,j,c,v,g,b;if(0===arguments.length)j=p();else if(1===arguments.length){if(!n(h=arguments[0]))throw new TypeError(f("invalid argument. Options argument must be an object. Value: `%s`.",h));if(i(h,"prng")){if(!r(h.prng))throw new TypeError(f("invalid option. `%s` option must be a pseudorandom number generator function. Option: `%s`.","prng",h.prng));j=h.prng}else j=p(h)}else{if(v=w(g=arguments[0],b=arguments[1]))throw v;if(arguments.length>2){if(!n(h=arguments[2]))throw new TypeError(f("invalid argument. Options argument must be an object. Value: `%s`.",h));if(i(h,"prng")){if(!r(h.prng))throw new TypeError(f("invalid option. `%s` option must be a pseudorandom number generator function. Option: `%s`.","prng",h.prng));j=h.prng}else j=p(h)}else j=p()}return e(c=void 0===g?G:V,"NAME","binomial"),h&&h.prng?(e(c,"seed",null),e(c,"seedLength",null),s(c,"state",o(null),m),e(c,"stateLength",null),e(c,"byteLength",null),e(c,"toJSON",o(null)),e(c,"PRNG",j)):(t(c,"seed",x),t(c,"seedLength",y),s(c,"state",O,T),t(c,"stateLength",L),t(c,"byteLength",E),e(c,"toJSON",P),e(c,"PRNG",j),j=j.normalized),c;function x(){return j.seed}function y(){return j.seedLength}function L(){return j.stateLength}function E(){return j.byteLength}function O(){return j.state}function T(e){j.state=e}function P(){var e={type:"PRNG"};return e.name=c.NAME,e.state=u(j.state),e.params=void 0===g?[]:[g,b],e}function V(){return N(j,g,b)}function G(e,t){return a(e)||a(t)||!d(e)||!l(t)?NaN:N(j,e,t)}}var O=E();e(O,"factory",E);export{O as default,E as factory};
//# sourceMappingURL=index.mjs.map
